@model PassViewModel
@{
    ViewData["Title"] = "Season Pass";
}

<div class="container my-5">
    <!-- Hero -->
    <div class="position-relative overflow-hidden rounded-4 shadow-sm mb-4"
         style="background: url('/images/nnl-banner.jpg') center/cover; min-height: 280px;">
        <div class="position-absolute top-0 start-0 w-100 h-100" style="background: rgba(0,0,0,.35);"></div>
        <div class="position-absolute top-50 start-50 translate-middle text-white text-center px-3">
            <h1 class="display-5 fw-bold">Never Never Land Season Pass</h1>
            <p class="lead mb-0">Unlimited visits, one great price.</p>
        </div>
    </div>

    <!-- Pricing & Coverage -->
    <section id="pricing" class="my-5">
        <div class="card border-0 shadow-sm rounded-4 h-100">
            <div class="card-header bg-white border-0 pt-4 pb-0 text-center">
                <h2 class="h4 mb-3">Pricing & Coverage</h2>
                <p class="text-muted mb-0 small">Same benefits across all passes — coverage size is the only difference.</p>
            </div>
            <div class="card-body">
                <div class="table-responsive rounded shadow-sm border">
                    <table class="table align-middle table-hover mb-0">
                        <thead class="table-light">
                            <tr>
                                <th class="text-start">Pass Type</th>
                                <th class="text-center">Current Price</th>
                                <th class="text-center">Covers</th>
                                <th class="text-start">Benefits</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-start">
                                    <span class="badge bg-primary me-2">Personal</span>
                                    <strong>Personal</strong>
                                </td>
                                <td class="text-center">@Model.PersonalPrice.ToString("C")</td>
                                <td class="text-center">1 named adult</td>
                                <td class="text-center">Up to 2 guests</td>
                                <td class="text-start">All standard park benefits; unlimited visits during pass term.</td>
                            </tr>
                            <tr>
                                <td class="text-start">
                                    <span class="badge bg-success me-2">Family</span>
                                    <strong>Family</strong>
                                </td>
                                <td class="text-center">@Model.FamilyPrice.ToString("C")</td>
                                <td class="text-center">Up to 2 named adults</td>
                                <td class="text-center">Up to 4 guests</td>
                                <td class="text-start">All Personal benefits; one pass covers your group.</td>
                            </tr>
                            <tr>
                                <td class="text-start">
                                    <span class="badge bg-warning text-dark me-2">Family+</span>
                                    <strong>Family+</strong>
                                </td>
                                <td class="text-center">@Model.FamilyPlusPrice.ToString("C")</td>
                                <td class="text-center">Up to 2 named adults</td>
                                <td class="text-center">Up to 7 guests</td>
                                <td class="text-start">All Family benefits; best for larger groups.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <!-- Current Pricing Phase card -->
    @{
        var phase = Model.PhaseLabel?.Trim() ?? "";
        var pretty = phase
        .Replace("EarlyBird", "Early Bird")
        .Replace("Late-Season", "Late Season");

        var subtitle = phase switch
        {
            "EarlyBird" or "Early Bird" => "Early Bird pricing runs Jan 1st – Mar 31st.",
            "Regular" => "Regular pricing runs Apr 1st – Aug 31st.",
            "Late-Season" or "Late Season" => "Late-season pricing runs Sep 1st – Oct 31st.",
            _ => "Season runs April 1st – October 31st. Season passes will be on sale starting Jan 1st."
        };
    }
    <div class="row g-4 my-3">
        <!-- Left: Passholder Benefits -->
        <div class="col-lg-6">
            <div class="card border-0 shadow-sm rounded-4 h-100">
                <div class="card-body p-4">
                    <h3 class="mb-3">Passholder Benefits</h3>
                    <ul class="list-unstyled mb-0">
                        <li class="mb-2">🎟 <strong>Unlimited entry</strong> all season (April–October)</li>
                        <li class="mb-2">🍦 <strong>10% off</strong> snacks & drinks</li>
                        <li class="mb-2">🎉 <strong>Passholder events</strong> and previews</li>
                        <li class="mb-2">👨‍👩‍👧 <strong>Bring-along flexibility</strong> based on pass tier</li>
                        <li>🛍 <strong>Merch discounts</strong> in the gift shop</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Right: Current Pricing Phase -->
        <div class="col-lg-6">
            <div class="card border-0 shadow-sm rounded-4 h-100">
                <div class="card-body p-4 d-flex flex-column">
                    <div class="d-flex align-items-center gap-3 mb-2">
                        <span class="badge bg-info text-dark fs-6 py-2 px-3">Now Live</span>
                        <h3 class="h5 mb-0">@pretty Pricing</h3>
                    </div>
                    <div class="text-muted mb-4">@subtitle</div>

                    <div class="mt-auto">
                        <a asp-controller="ParkPasses" asp-action="Buy" class="btn btn-primary btn-lg w-100">
                            Buy a Season Pass
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pass Types -->
    <section id="pass-types" class="my-5">
        <h2 class="mb-4 text-center text-white">Choose Your Park Pass</h2>

        <div class="row g-4">
            <!-- Personal -->
            <div class="col-md-4">
                <div class="card h-100 shadow-sm border-0">
                    <div class="card-body d-flex flex-column">
                        <div class="mb-2">
                            <span class="badge bg-primary">Personal</span>
                        </div>
                        <h5 class="card-title mb-1">Personal</h5>
                        <p class="text-muted">Covers <strong>2</strong> other guests.</p>
                        <ul class="list-unstyled small mb-4">
                            <li>✔ Unlimited visits during pass term</li>
                            <li>✔ Member discounts & events</li>
                            <li>✔ Same benefits as other passes</li>
                        </ul>
                        <div class="mt-auto">
                            <a asp-controller="ParkPasses"
                               asp-action="Buy"
                               asp-route-type="Personal"
                               class="btn btn-primary w-100">
                                Choose Personal
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Family -->
            <div class="col-md-4">
                <div class="card h-100 shadow-sm border-0">
                    <div class="card-body d-flex flex-column">
                        <div class="mb-2">
                            <span class="badge bg-success">Family</span>
                        </div>
                        <h5 class="card-title mb-1">Family</h5>
                        <p class="text-muted">Covers <strong>up to 4</strong> other guests.</p>
                        <ul class="list-unstyled small mb-4">
                            <li>✔ All Personal benefits</li>
                            <li>✔ One pass covers your group</li>
                        </ul>
                        <div class="mt-auto">
                            <a asp-controller="ParkPasses"
                               asp-action="Buy"
                               asp-route-type="Family"
                               class="btn btn-success w-100">
                                Choose Family
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Family+ -->
            <div class="col-md-4">
                <div class="card h-100 shadow-sm border-0">
                    <div class="card-body d-flex flex-column">
                        <div class="mb-2">
                            <span class="badge bg-warning text-dark">Family+</span>
                        </div>
                        <h5 class="card-title mb-1">Family+</h5>
                        <p class="text-muted">Covers <strong>up to 7</strong> other guests.</p>
                        <ul class="list-unstyled small mb-4">
                            <li>✔ All Family benefits</li>
                            <li>✔ Best for larger groups</li>
                        </ul>
                        <div class="mt-auto">
                            <a asp-controller="ParkPasses"
                               asp-action="Buy"
                               asp-route-type="FamilyPlus"
                               class="btn btn-warning w-100">
                                Choose Family+
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <div class="card border-0 shadow-sm rounded-4 mt-4">
        <div class="card-body p-4">
            <h3 class="mb-3">How it works</h3>
            <p class="mb-2">
                Buy from January 1st to March 31st to get <strong>Early Bird</strong> pricing. From April through July, passes are at
                <strong>regular</strong> price. Starting in September, a <strong>late-season discount</strong> applies automatically.
            </p>
            <p class="mb-0">
                Your pass is valid through October 31 of the current year. Pricing resets for the next season with an Early Bird window again in January.
            </p>
        </div>
    </div>

    <!-- FAQ -->
    <div class="card border-0 shadow-sm rounded-4 mt-4">
        <div class="card-body p-4">
            <h3 class="mb-3">FAQ</h3>
            <div class="mb-2"><strong>When does my pass start?</strong><br />Immediately upon purchase, through Oct 31.</div>
            <div class="mb-2"><strong>Do I need tickets if I have a pass?</strong><br />No—just show your pass and ID at entry.</div>
            <div class="mb-0"><strong>Can I upgrade later?</strong><br />Yes—visit Guest Services to upgrade within the same season.</div>
        </div>
    </div>
</div>